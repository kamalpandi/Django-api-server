<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Weather App</title>

    {% load static %}
    <link rel="stylesheet" href="{% static '/style.css' %}" />

    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  </head>
  <body>
    <div class="container">
      <h1>Weather App</h1>

      <!-- Form is rendered directly, no Nunjucks -->
      <form
        hx-post="{% url 'weather_view' %}"
        hx-target="#result"
        hx-swap="innerHTML"
      >
        {% csrf_token %}
        <select id="cityDropdown" name="city" required>
          <option value="">-- Select a city --</option>
          {% for city in cities %}
          <option value="{{ city }}">{{ city }}</option>
          {% endfor %}
        </select>
        <button type="submit">Get Weather</button>
      </form>

      <!-- Result container -->
      <div id="result"></div>
    </div>
  </body>
</html>
